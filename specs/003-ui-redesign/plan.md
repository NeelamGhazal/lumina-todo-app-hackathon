# Implementation Plan: Lumina UI Redesign

**Branch**: `003-ui-redesign` | **Date**: 2026-01-29 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/003-ui-redesign/spec.md`

---

## Summary

Transform the Evolution Todo application into **Lumina** - a visually stunning, internationally competitive interface with glassmorphism effects, smooth animations, and a professional design system. This is a **frontend-only** redesign that preserves all existing functionality while dramatically improving visual appeal and user experience.

**Primary Requirements:**
- Rebrand to "Lumina" with new visual identity
- Implement glassmorphism design language
- Add smooth Framer Motion animations
- Create sidebar navigation for dashboard
- Achieve Lighthouse Performance 90+
- Support dark mode (default) and light mode

**Technical Approach:**
- Extend existing Tailwind CSS configuration
- Use next-themes for theme management
- Create reusable glass components
- Leverage Framer Motion (already installed)
- Mobile-first responsive design

---

## Technical Context

**Language/Version**: TypeScript 5.x (strict mode)
**Primary Dependencies**: Next.js 16+, Tailwind CSS 4.0, Framer Motion 11.0, next-themes 0.4.4
**Storage**: N/A (frontend-only, no backend changes)
**Testing**: Playwright (visual regression), axe-core (accessibility)
**Target Platform**: Web (all modern browsers)
**Project Type**: Web application (frontend modification only)
**Performance Goals**: Lighthouse 90+, 60fps animations, FCP < 1.5s, LCP < 2.5s
**Constraints**: No new npm dependencies except fonts, preserve all existing functionality
**Scale/Scope**: ~27 components (12 new, 15 modified), 5 pages

---

## OFFICIAL COLOR THEME (SOURCE OF TRUTH)

> ⚠️ **MANDATORY**: All UI work MUST use these colors ONLY.

### Light Theme
| Element | Color | Hex |
|---------|-------|-----|
| Background | Light sage | `#EAEFEF` |
| Card | White | `#FFFFFF` |
| Border | Cool gray | `#BFC9D1` |
| Text Primary | Dark slate | `#25343F` |
| Text Secondary | Medium slate | `#3D4D5C` |
| Accent/Buttons | Orange | `#FF9B51` |
| Accent Hover | Dark orange | `#E88A42` |

### Dark Theme (Default)
| Element | Color | Hex |
|---------|-------|-----|
| Background | Dark slate | `#25343F` |
| Card | Darker slate | `#1A242C` |
| Border | Medium slate | `#3D4D5C` |
| Text Primary | Light sage | `#EAEFEF` |
| Text Secondary | Cool gray | `#BFC9D1` |
| Accent/Buttons | Orange | `#FF9B51` |
| Accent Hover | Light orange | `#FFB070` |

### ❌ DEPRECATED COLORS (DO NOT USE)
- Violet/Purple (#8B5CF6, #6366F1)
- Cyan/Teal (#06B6D4)
- Old slate backgrounds (#0F172A, #1E293B)
- Any gradient text effects
- Any yellow/brown variants

---

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Evidence |
|-----------|--------|----------|
| I. Spec-Driven Development | PASS | Complete spec.md v1.1.0 with acceptance criteria |
| II. Professional Quality | PASS | TypeScript strict, performance targets defined |
| III. Visual Excellence | PASS | Core focus of this feature |
| IV. Task-Driven Implementation | PENDING | tasks.md to be generated |
| V. Checkpoint Control | PASS | 9 phases with checkpoints defined |
| VI. AI-First Engineering | PASS | Claude Code generating all implementation |
| VII. Cloud-Native Mindset | N/A | Frontend-only, no infrastructure changes |

### Phase II Standards Compliance

| Requirement | Status | Implementation |
|-------------|--------|----------------|
| Next.js 16+ App Router | PASS | Already using App Router |
| Shadcn/ui components | PASS | Extending existing components |
| Tailwind CSS styling | PASS | Custom theme extension |
| Loading states | PASS | Shimmer skeletons specified |
| Form validation with Zod | PASS | Already implemented |
| Toast notifications | PASS | Sonner already installed |
| Dark mode support | PASS | next-themes with CSS variables |
| Accessibility | PASS | WCAG 2.1 AA requirements |

**Constitution Check: PASSED - No violations**

---

## Project Structure

### Documentation (this feature)

```text
specs/003-ui-redesign/
├── spec.md              # Feature specification v1.1.0
├── plan.md              # This file
├── research.md          # Technology research decisions
├── data-model.md        # Design token and component models
├── quickstart.md        # Implementation guide
├── contracts/           # N/A (no API changes)
└── tasks.md             # Task breakdown (generated by /sp.tasks)
```

### Source Code (repository root)

```text
frontend/
├── src/
│   ├── app/
│   │   ├── layout.tsx           # MODIFY: Add fonts, ThemeProvider
│   │   ├── globals.css          # MODIFY: Add CSS variables, glass effects
│   │   ├── page.tsx             # MODIFY: Complete landing page redesign
│   │   ├── (auth)/
│   │   │   ├── layout.tsx       # MODIFY: Split layout design
│   │   │   ├── login/page.tsx   # MODIFY: Glass form styling
│   │   │   └── signup/page.tsx  # MODIFY: Glass form styling
│   │   └── (dashboard)/
│   │       ├── layout.tsx       # MODIFY: Add sidebar layout
│   │       └── tasks/page.tsx   # MODIFY: Grid layout, animations
│   │
│   ├── components/
│   │   ├── landing/             # NEW: Landing page components
│   │   │   ├── hero-section.tsx
│   │   │   ├── features-section.tsx
│   │   │   ├── cta-section.tsx
│   │   │   ├── footer.tsx
│   │   │   └── floating-orbs.tsx
│   │   │
│   │   ├── layout/
│   │   │   ├── header.tsx       # MODIFY: Glass effect, new nav
│   │   │   ├── sidebar.tsx      # NEW: Dashboard sidebar
│   │   │   └── sidebar-item.tsx # NEW: Sidebar navigation item
│   │   │
│   │   ├── tasks/
│   │   │   ├── task-card.tsx    # MODIFY: Glass, hover effects
│   │   │   ├── task-list.tsx    # MODIFY: Stagger animations
│   │   │   ├── add-task-modal.tsx    # MODIFY: Glass modal
│   │   │   ├── edit-task-modal.tsx   # MODIFY: Glass modal
│   │   │   ├── empty-state.tsx       # MODIFY: Icon placeholder
│   │   │   └── skeleton-card.tsx     # MODIFY: Shimmer effect
│   │   │
│   │   └── ui/
│   │       ├── glass-card.tsx        # NEW: Glass card wrapper
│   │       ├── gradient-text.tsx     # NEW: Gradient text component
│   │       ├── shimmer-skeleton.tsx  # NEW: Shimmer loading
│   │       └── animated-button.tsx   # NEW: Framer Motion button
│   │
│   ├── hooks/
│   │   ├── use-sidebar.ts       # NEW: Sidebar state management
│   │   └── use-animation-config.ts # NEW: Reduced motion support
│   │
│   └── lib/
│       └── animation-variants.ts # NEW: Shared animation presets
│
├── tailwind.config.ts           # MODIFY: Custom theme extension
└── next.config.ts               # UNCHANGED
```

**Structure Decision**: Modifying existing Next.js App Router structure. No new top-level directories needed. All changes contained within `frontend/src/`.

---

## Architecture Decisions

### ADR-001: Animation Library Strategy

**Context**: Need smooth, professional animations throughout the application.

**Decision**: Use Framer Motion for complex animations, CSS for simple interactions.

**Rationale**:
- Framer Motion already installed (no bundle impact)
- Provides spring physics, exit animations (AnimatePresence)
- CSS transitions sufficient for hover/focus states

**Consequences**:
- (+) Rich animation capabilities
- (+) Reduced motion support built-in
- (-) Learning curve for complex orchestration

### ADR-002: Glassmorphism Implementation

**Context**: Design requires glass/frosted effect on cards and navigation.

**Decision**: Use `backdrop-filter: blur()` with CSS fallback.

**Rationale**:
- 96.5% browser support (caniuse.com)
- Graceful degradation for unsupported browsers
- GPU-accelerated in modern browsers

**Consequences**:
- (+) Modern, premium appearance
- (-) Performance impact if overused
- Mitigation: Limit to 5-10 glass elements per view

### ADR-003: Theme System Architecture

**Context**: Support dark mode (default) and light mode with smooth transitions.

**Decision**: Use next-themes with CSS variables and Tailwind's `dark:` modifier.

**Rationale**:
- Already installed, proven solution
- Handles FOUC prevention
- localStorage persistence automatic

**Consequences**:
- (+) Zero configuration needed
- (+) System preference detection
- (-) Requires CSS variable setup

### ADR-004: Sidebar Navigation

**Context**: Dashboard needs organized navigation with filters and categories.

**Decision**: Collapsible sidebar (240px → 64px) with mobile drawer.

**Rationale**:
- Consistent with modern dashboards (Linear, Notion)
- Better organization than header tabs
- Mobile-friendly with hamburger menu

**Consequences**:
- (+) More navigation space
- (+) Future-proof for more features
- (-) More complex layout than header-only
- Mitigation: Hide completely on mobile, use drawer

### ADR-005: Component Extension Strategy

**Context**: Need new UI components while maintaining consistency.

**Decision**: Extend Shadcn/ui components via composition, not replacement.

**Rationale**:
- Preserve accessibility from Radix UI
- Consistent API patterns
- Easier maintenance

**Consequences**:
- (+) Leverage existing work
- (+) Consistent patterns
- (-) Constrained by Shadcn/ui structure

### ADR-006: Font Loading Strategy

**Context**: Design specifies Inter font family.

**Decision**: Use `next/font/google` for automatic optimization.

**Rationale**:
- Built into Next.js
- Self-hosts fonts (no external requests)
- Prevents layout shift

**Consequences**:
- (+) Zero configuration
- (+) Optimal performance
- (-) Google dependency for build

---

## Implementation Phases

### Phase 1: Foundation Setup (90 min)

**Goal**: Establish design system foundation

| Task | Description | Duration | Dependencies |
|------|-------------|----------|--------------|
| 1.1 | Configure Tailwind with custom colors, animations, shadows | 30 min | None |
| 1.2 | Set up Inter font via next/font | 15 min | None |
| 1.3 | Configure next-themes ThemeProvider | 15 min | None |
| 1.4 | Create GlassCard base component | 20 min | 1.1 |
| 1.5 | Create FloatingOrbs background component | 30 min | 1.1 |
| 1.6 | Create ThemeToggle component | 20 min | 1.3 |

**Checkpoint**: Theme toggle works, fonts loaded, glass effect renders correctly in both themes.

### Phase 2: Landing Page (2 hours)

**Goal**: Create stunning first impression

| Task | Description | Duration | Dependencies |
|------|-------------|----------|--------------|
| 2.1 | Create HeroSection with gradient text, CTA buttons | 30 min | Phase 1 |
| 2.2 | Add FloatingOrbs to hero background | 20 min | 1.5 |
| 2.3 | Build navigation bar with glass effect | 20 min | 1.4 |
| 2.4 | Create dashboard preview mockup (optional) | 30 min | 1.4 |
| 2.5 | Build FeaturesSection with 6 glass cards | 30 min | 1.4 |
| 2.6 | Create CTASection | 15 min | 1.4 |
| 2.7 | Create Footer component | 15 min | None |
| 2.8 | Add scroll-triggered stagger animations | 20 min | 2.1-2.7 |

**Checkpoint**: Landing page looks premium, animations are smooth, all links work.

### Phase 3: Authentication Pages (1.5 hours)

**Goal**: Transform auth experience

| Task | Description | Duration | Dependencies |
|------|-------------|----------|--------------|
| 3.1 | Create split layout (gradient | form) | 25 min | Phase 1 |
| 3.2 | Style form inputs with glass effect, focus animations | 20 min | 1.4 |
| 3.3 | Add password visibility toggle | 10 min | 3.2 |
| 3.4 | Create loading state for submit button | 15 min | None |
| 3.5 | Apply same styling to signup page | 25 min | 3.1-3.4 |
| 3.6 | Add social login buttons (visual only) | 15 min | None |

**Checkpoint**: Auth pages beautiful, forms functional, responsive on mobile.

### Phase 4: Dashboard Layout (1.5 hours)

**Goal**: Implement sidebar navigation

| Task | Description | Duration | Dependencies |
|------|-------------|----------|--------------|
| 4.1 | Create Sidebar component with glass effect | 30 min | Phase 1 |
| 4.2 | Implement SidebarItem with active states | 15 min | 4.1 |
| 4.3 | Build dashboard header with search placeholder | 25 min | 1.4 |
| 4.4 | Integrate ThemeToggle in header | 10 min | 1.6, 4.3 |
| 4.5 | Add user avatar dropdown | 15 min | 4.3 |
| 4.6 | Create mobile hamburger + drawer | 25 min | 4.1 |

**Checkpoint**: Dashboard layout professional, sidebar collapses, mobile drawer works.

### Phase 5: Task Cards (1 hour)

**Goal**: Transform task display

| Task | Description | Duration | Dependencies |
|------|-------------|----------|--------------|
| 5.1 | Redesign TaskCard with glass effect | 25 min | 1.4 |
| 5.2 | Add priority color bar indicator | 10 min | 5.1 |
| 5.3 | Animate checkbox with SVG path | 15 min | 5.1 |
| 5.4 | Add hover lift effect | 10 min | 5.1 |
| 5.5 | Create EmptyState with icon placeholder | 15 min | 1.4 |
| 5.6 | Update SkeletonCard with shimmer effect | 15 min | None |

**Checkpoint**: Task cards look premium, interactions are delightful.

### Phase 6: Modals (1 hour)

**Goal**: Polish modal experience

| Task | Description | Duration | Dependencies |
|------|-------------|----------|--------------|
| 6.1 | Apply glass effect to modal backdrop and content | 20 min | 1.4 |
| 6.2 | Add scale + fade animation | 15 min | 6.1 |
| 6.3 | Style form inputs consistently | 15 min | 3.2 |
| 6.4 | Add priority selector with color indicators | 15 min | 6.3 |
| 6.5 | Style buttons with loading state | 10 min | 3.4 |

**Checkpoint**: Modals beautiful, animations smooth, forms work correctly.

### Phase 7: Responsive Polish (1 hour)

**Goal**: Perfect on all devices

| Task | Description | Duration | Dependencies |
|------|-------------|----------|--------------|
| 7.1 | Test all pages on mobile (320px) | 15 min | Phases 1-6 |
| 7.2 | Fix mobile navigation issues | 15 min | 7.1 |
| 7.3 | Test and adjust tablet layout | 15 min | 7.1 |
| 7.4 | Test large desktop (1920px+) | 10 min | 7.1 |
| 7.5 | Fix any layout breaks found | 15 min | 7.1-7.4 |

**Checkpoint**: Perfect rendering on all screen sizes.

### Phase 8: Animation Polish (1 hour)

**Goal**: Smooth, performant animations

| Task | Description | Duration | Dependencies |
|------|-------------|----------|--------------|
| 8.1 | Add page transition animations | 15 min | Phases 1-6 |
| 8.2 | Polish hover micro-interactions | 15 min | Phase 5 |
| 8.3 | Implement reduced motion support | 15 min | All phases |
| 8.4 | Test animation performance (60fps) | 15 min | 8.1-8.3 |
| 8.5 | Optimize any janky animations | 15 min | 8.4 |

**Checkpoint**: 60fps animations, reduced motion respected, no jank.

### Phase 9: Final Polish (30 min)

**Goal**: Meet all quality gates

| Task | Description | Duration | Dependencies |
|------|-------------|----------|--------------|
| 9.1 | Run Lighthouse audit | 10 min | All phases |
| 9.2 | Run accessibility audit (axe-core) | 10 min | All phases |
| 9.3 | Cross-browser testing | 10 min | All phases |

**Checkpoint**: Lighthouse 90+, no accessibility violations, works in all browsers.

---

## Timeline Summary

| Phase | Duration | Cumulative |
|-------|----------|------------|
| Phase 1: Foundation | 2h 10min | 2h 10min |
| Phase 2: Landing Page | 3h | 5h 10min |
| Phase 3: Auth Pages | 1h 50min | 7h |
| Phase 4: Dashboard Layout | 2h | 9h |
| Phase 5: Task Cards | 1h 30min | 10h 30min |
| Phase 6: Modals | 1h 15min | 11h 45min |
| Phase 7: Responsive | 1h 10min | 12h 55min |
| Phase 8: Animation Polish | 1h 15min | 14h 10min |
| Phase 9: Final Polish | 30min | **14h 40min** |

**Note**: Spec estimated 9-11 hours. This detailed breakdown reveals ~15 hours for complete implementation. Consider simplifications if timeline is critical:

### Time-Saving Options (if needed)
| Cut | Saves | Impact |
|-----|-------|--------|
| Skip dashboard preview mockup | 30min | Minor |
| Simplify floating orbs (static) | 20min | Minor |
| Skip password strength indicator | 15min | Minor |
| Defer page transitions | 15min | Minor |
| Use header nav instead of sidebar | 1h | Medium |

---

## Risk Mitigation

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| Animation performance issues | Medium | High | Test early, use GPU-only properties |
| Sidebar complexity | Medium | Medium | Can fall back to header nav |
| Backdrop-filter issues | Low | Low | Solid fallback already planned |
| Timeline overrun | Medium | Medium | Prioritize phases, cut optional features |

---

## Rollback Plan

If critical issues arise:

1. **Immediate**: Revert to previous commit (no feature flags needed for new features)
2. **Partial**: Keep design tokens, revert layout changes
3. **Selective**: Use feature branch for isolated testing

---

## Success Criteria

- [ ] Landing page with prominent Sign In / Get Started buttons
- [ ] All pages use glassmorphism effects
- [ ] Smooth fade-up animations on all elements
- [ ] Dark mode default, light mode polished
- [ ] Theme toggle instant and smooth
- [ ] Task cards have hover lift effect
- [ ] Mobile responsive with 44px touch targets
- [ ] Loading states use shimmer skeletons
- [ ] Lighthouse Performance score 90+
- [ ] No accessibility violations (axe-core)

---

## Next Steps

1. Run `/sp.tasks` to generate atomic task breakdown
2. Begin Phase 1: Foundation Setup
3. Checkpoint review after each phase

**Plan Status**: Ready for task generation
